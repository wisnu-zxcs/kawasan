@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
    /* Radius Scale - Apple uses subtle, consistent radii */
    --radius-xs: 0.25rem;
    --radius-sm: 0.5rem;
    --radius-base: 0.75rem;
    --radius-md: 1rem;
    --radius-lg: 1.25rem;
    --radius-xl: 1.5rem;
    --radius-2xl: 2rem;

    /* Spacing Scale */
    --spacing-xs: 0.5rem;
    --spacing-sm: 0.75rem;
    --spacing-base: 1rem;
    --spacing-md: 1.5rem;
    --spacing-lg: 2rem;
    --spacing-xl: 3rem;

    /* Shadow Scale - Apple's subtle depth */
    --shadow-xs: 0 1px 2px 0 oklch(0 0 0 / 0.05);
    --shadow-sm: 0 1px 3px 0 oklch(0 0 0 / 0.1), 0 1px 2px -1px oklch(0 0 0 / 0.1);
    --shadow-base: 0 4px 6px -1px oklch(0 0 0 / 0.1), 0 2px 4px -2px oklch(0 0 0 / 0.1);
    --shadow-md: 0 10px 15px -3px oklch(0 0 0 / 0.1), 0 4px 6px -4px oklch(0 0 0 / 0.1);
    --shadow-lg: 0 20px 25px -5px oklch(0 0 0 / 0.1), 0 8px 10px -6px oklch(0 0 0 / 0.1);
    --shadow-xl: 0 25px 50px -12px oklch(0 0 0 / 0.25);

    /* Color Mapping */
    --color-background: var(--background);
    --color-foreground: var(--foreground);
    --color-surface: var(--surface);
    --color-surface-foreground: var(--surface-foreground);
    --color-overlay: var(--overlay);
    --color-overlay-foreground: var(--overlay-foreground);
    --color-brand: var(--brand);
    --color-brand-foreground: var(--brand-foreground);
    --color-brand-subtle: var(--brand-subtle);
    --color-secondary: var(--secondary);
    --color-secondary-foreground: var(--secondary-foreground);
    --color-muted: var(--muted);
    --color-muted-foreground: var(--muted-foreground);
    --color-emphasis: var(--emphasis);
    --color-emphasis-foreground: var(--emphasis-foreground);
    --color-danger: var(--danger);
    --color-danger-foreground: var(--danger-foreground);
    --color-danger-subtle: var(--danger-subtle);
    --color-success: var(--success);
    --color-success-foreground: var(--success-foreground);
    --color-warning: var(--warning);
    --color-warning-foreground: var(--warning-foreground);
    --color-info: var(--info);
    --color-info-foreground: var(--info-foreground);
    --color-border: var(--border);
    --color-border-subtle: var(--border-subtle);
    --color-input: var(--input);
    --color-focus: var(--focus);
}

:root {
    /* Core Background & Foreground - Apple's clean whites */
    --background: oklch(0.99 0 0);
    --foreground: oklch(0.15 0 0);

    /* Surface - Cards, modals */
    --surface: oklch(1 0 0);
    --surface-foreground: oklch(0.15 0 0);

    /* Overlay - Popovers, dropdowns */
    --overlay: oklch(1 0 0);
    --overlay-foreground: oklch(0.15 0 0);

    /* Brand - Yellow primary color (Apple-style vibrant) */
    --brand: oklch(0.85 0.15 95);
    --brand-foreground: oklch(0.25 0.08 80);
    --brand-subtle: oklch(0.95 0.08 95);

    /* Secondary - Neutral accent */
    --secondary: oklch(0.96 0.002 264);
    --secondary-foreground: oklch(0.20 0.005 264);

    /* Muted - Subtle backgrounds */
    --muted: oklch(0.97 0.002 264);
    --muted-foreground: oklch(0.50 0.01 264);

    /* Emphasis - High contrast elements */
    --emphasis: oklch(0.96 0.002 264);
    --emphasis-foreground: oklch(0.15 0 0);

    /* Semantic Colors */
    --danger: oklch(0.60 0.22 25);
    --danger-foreground: oklch(0.99 0 0);
    --danger-subtle: oklch(0.96 0.04 25);

    --success: oklch(0.65 0.18 150);
    --success-foreground: oklch(0.99 0 0);

    --warning: oklch(0.75 0.15 75);
    --warning-foreground: oklch(0.25 0.08 75);

    --info: oklch(0.65 0.15 240);
    --info-foreground: oklch(0.99 0 0);

    /* Borders - Apple's subtle divisions */
    --border: oklch(0.90 0.002 264);
    --border-subtle: oklch(0.95 0.002 264);
    --input: oklch(0.88 0.002 264);

    /* Focus Ring - Yellow brand color */
    --focus: oklch(0.85 0.15 95);
}

.dark {
    /* Core Background & Foreground - Apple's dark mode */
    --background: oklch(0.12 0 0);
    --foreground: oklch(0.95 0 0);

    /* Surface */
    --surface: oklch(0.18 0.005 264);
    --surface-foreground: oklch(0.95 0 0);

    /* Overlay */
    --overlay: oklch(0.20 0.005 264);
    --overlay-foreground: oklch(0.95 0 0);

    /* Brand - Adjusted for dark mode */
    --brand: oklch(0.80 0.15 95);
    --brand-foreground: oklch(0.15 0 0);
    --brand-subtle: oklch(0.25 0.08 95);

    /* Secondary */
    --secondary: oklch(0.24 0.005 264);
    --secondary-foreground: oklch(0.90 0 0);

    /* Muted */
    --muted: oklch(0.22 0.005 264);
    --muted-foreground: oklch(0.60 0.01 264);

    /* Emphasis */
    --emphasis: oklch(0.24 0.005 264);
    --emphasis-foreground: oklch(0.95 0 0);

    /* Semantic Colors - Dark mode adjusted */
    --danger: oklch(0.65 0.20 25);
    --danger-foreground: oklch(0.99 0 0);
    --danger-subtle: oklch(0.22 0.08 25);

    --success: oklch(0.70 0.16 150);
    --success-foreground: oklch(0.15 0 0);

    --warning: oklch(0.80 0.14 75);
    --warning-foreground: oklch(0.15 0 0);

    --info: oklch(0.70 0.14 240);
    --info-foreground: oklch(0.15 0 0);

    /* Borders */
    --border: oklch(0.30 0.005 264);
    --border-subtle: oklch(0.25 0.005 264);
    --input: oklch(0.32 0.005 264);

    /* Focus Ring */
    --focus: oklch(0.80 0.15 95);
}

@layer base {
    * {
        @apply border-border;
    }

    *:focus-visible {
        @apply outline-none;
    }

    body {
        @apply bg-background text-foreground antialiased;
        font-feature-settings: "rlig" 1, "calt" 1;
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    /* Apple-style smooth scrolling */
    html {
        scroll-behavior: smooth;
    }

    /* Custom scrollbar - Apple style */
    ::-webkit-scrollbar {
        @apply w-2 h-2;
    }

    ::-webkit-scrollbar-track {
        @apply bg-transparent;
    }

    ::-webkit-scrollbar-thumb {
        @apply bg-muted-foreground/30 rounded-full;
    }

    ::-webkit-scrollbar-thumb:hover {
        @apply bg-muted-foreground/50;
    }
}

@layer utilities {

    /* Apple-style glass effect */
    .glass {
        @apply bg-background/80 backdrop-blur-xl;
    }

    .glass-surface {
        @apply bg-surface/80 backdrop-blur-xl;
    }

    /* Apple-style elevation */
    .elevated {
        @apply shadow-md;
    }

    .elevated-lg {
        @apply shadow-lg;
    }

    /* Smooth transitions - Apple timing */
    .transition-apple {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .transition-apple-fast {
        transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
    }
}